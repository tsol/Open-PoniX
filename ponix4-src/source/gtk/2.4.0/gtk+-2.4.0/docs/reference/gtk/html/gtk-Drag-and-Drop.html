<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Drag and Drop</title><meta name="generator" content="DocBook XSL Stylesheets V1.61.2"><meta name="generator" content="GTK-Doc V1.2 (XML mode)"><style type="text/css">
        .synopsis, .classsynopsis {
            background: #eeeeee;
            border: solid 1px #aaaaaa;
            padding: 0.5em;
        }
        .programlisting {
            background: #eeeeff;
            border: solid 1px #aaaaff;
            padding: 0.5em;
        }
        .variablelist {
            padding: 4px;
            margin-left: 3em;
        }
        .navigation {
            background: #ffeeee;
            border: solid 1px #ffaaaa;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
        }
        .navigation a {
            color: #770000;
        }
        .navigation a:visited {
            color: #550000;
        }
        .navigation .title {
            font-size: 200%;
        }
      </style><link rel="home" href="index.html" title="GTK+ Reference Manual"><link rel="up" href="gtkbase.html" title="Part II. GTK+ Core Reference"><link rel="previous" href="gtk-Clipboards.html" title="Clipboards"><link rel="next" href="GtkIconTheme.html" title="GtkIconTheme"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="gtk-Clipboards.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="gtkbase.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">GTK+ Reference Manual</th><td><a accesskey="n" href="GtkIconTheme.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="refentry" lang="en"><a name="gtk-Drag-and-Drop"></a><div class="titlepage"><div></div><div></div></div><div class="refnamediv"><h2><span class="refentrytitle">Drag and Drop</span></h2><p>Drag and Drop &#8212; Functions for controlling drag and drop handling</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">

#include &lt;gtk/gtk.h&gt;


enum        <a href="gtk-Drag-and-Drop.html#GtkDestDefaults">GtkDestDefaults</a>;
enum        <a href="gtk-Drag-and-Drop.html#GtkTargetFlags">GtkTargetFlags</a>;

void        <a href="gtk-Drag-and-Drop.html#gtk-drag-dest-set">gtk_drag_dest_set</a>               (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a href="gtk-Drag-and-Drop.html#GtkDestDefaults">GtkDestDefaults</a> flags,
                                             const <a href="gtk-Selections.html#GtkTargetEntry">GtkTargetEntry</a> *targets,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> n_targets,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragAction"
>GdkDragAction</a> actions);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-dest-set-proxy">gtk_drag_dest_set_proxy</a>         (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Windows.html#GdkWindow"
>GdkWindow</a> *proxy_window,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragProtocol"
>GdkDragProtocol</a> protocol,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> use_coordinates);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-dest-unset">gtk_drag_dest_unset</a>             (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);
<a
href="../gdk/gdk-Properties-and-Atoms.html#GdkAtom"
>GdkAtom</a>     <a href="gtk-Drag-and-Drop.html#gtk-drag-dest-find-target">gtk_drag_dest_find_target</a>       (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a> *target_list);
<a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a>* <a href="gtk-Drag-and-Drop.html#gtk-drag-dest-get-target-list">gtk_drag_dest_get_target_list</a>
                                            (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-dest-set-target-list">gtk_drag_dest_set_target_list</a>   (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a> *target_list);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-finish">gtk_drag_finish</a>                 (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> success,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> del,
                                             <a
href="../glib/glib-Basic-Types.html#guint32"
>guint32</a> time_);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-get-data">gtk_drag_get_data</a>               (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a
href="../gdk/gdk-Properties-and-Atoms.html#GdkAtom"
>GdkAtom</a> target,
                                             <a
href="../glib/glib-Basic-Types.html#guint32"
>guint32</a> time_);
<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a>*  <a href="gtk-Drag-and-Drop.html#gtk-drag-get-source-widget">gtk_drag_get_source_widget</a>      (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-highlight">gtk_drag_highlight</a>              (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-unhighlight">gtk_drag_unhighlight</a>            (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);

<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a>* <a href="gtk-Drag-and-Drop.html#gtk-drag-begin">gtk_drag_begin</a>              (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a> *targets,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragAction"
>GdkDragAction</a> actions,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> button,
                                             <a
href="../gdk/gdk-Event-Structures.html#GdkEvent"
>GdkEvent</a> *event);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-set-icon-widget">gtk_drag_set_icon_widget</a>        (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_x,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_y);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-set-icon-pixmap">gtk_drag_set_icon_pixmap</a>        (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a
href="../gdk/gdk-Colormaps-and-Colors.html#GdkColormap"
>GdkColormap</a> *colormap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkPixmap"
>GdkPixmap</a> *pixmap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkBitmap"
>GdkBitmap</a> *mask,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_x,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_y);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-set-icon-pixbuf">gtk_drag_set_icon_pixbuf</a>        (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a
href="../gdk-pixbuf/gdk-pixbuf-gdk-pixbuf.html#GdkPixbuf"
>GdkPixbuf</a> *pixbuf,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_x,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_y);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-set-icon-stock">gtk_drag_set_icon_stock</a>         (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *stock_id,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_x,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_y);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-set-icon-default">gtk_drag_set_icon_default</a>       (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-set-default-icon">gtk_drag_set_default_icon</a>       (<a
href="../gdk/gdk-Colormaps-and-Colors.html#GdkColormap"
>GdkColormap</a> *colormap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkPixmap"
>GdkPixmap</a> *pixmap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkBitmap"
>GdkBitmap</a> *mask,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_x,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_y);
<a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a>    <a href="gtk-Drag-and-Drop.html#gtk-drag-check-threshold">gtk_drag_check_threshold</a>        (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> start_x,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> start_y,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> current_x,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> current_y);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-source-set">gtk_drag_source_set</a>             (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Windows.html#GdkModifierType"
>GdkModifierType</a> start_button_mask,
                                             const <a href="gtk-Selections.html#GtkTargetEntry">GtkTargetEntry</a> *targets,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> n_targets,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragAction"
>GdkDragAction</a> actions);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-source-set-icon">gtk_drag_source_set_icon</a>        (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Colormaps-and-Colors.html#GdkColormap"
>GdkColormap</a> *colormap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkPixmap"
>GdkPixmap</a> *pixmap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkBitmap"
>GdkBitmap</a> *mask);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-source-set-icon-pixbuf">gtk_drag_source_set_icon_pixbuf</a> (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk-pixbuf/gdk-pixbuf-gdk-pixbuf.html#GdkPixbuf"
>GdkPixbuf</a> *pixbuf);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-source-set-icon-stock">gtk_drag_source_set_icon_stock</a>  (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *stock_id);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-source-unset">gtk_drag_source_unset</a>           (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-source-set-target-list">gtk_drag_source_set_target_list</a> (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a> *target_list);
<a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a>* <a href="gtk-Drag-and-Drop.html#gtk-drag-source-get-target-list">gtk_drag_source_get_target_list</a>
                                            (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);
</pre></div><div class="refsect1" lang="en"><h2>Description</h2><p>
GTK+ has a rich set of functions for doing inter-process
communication via the drag-and-drop metaphor. GTK+
can do drag-and-drop (DND) via multiple protocols.
The currently supported protocols are the Xdnd and
Motif protocols.

As well as the functions listed here, applications
may need to use some facilities provided for
<a href="gtk-Selections.html" title="Selections">Selections</a>.
Also, the Drag and Drop API makes use of signals
in the <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a> class.
</p></div><div class="refsect1" lang="en"><h2>Details</h2><div class="refsect2" lang="en"><h3><a name="GtkDestDefaults"></a>enum GtkDestDefaults</h3><a class="indexterm" name="id3522562"></a><pre class="programlisting">typedef enum {
  GTK_DEST_DEFAULT_MOTION     = 1 &lt;&lt; 0, /* respond to "drag_motion" */
  GTK_DEST_DEFAULT_HIGHLIGHT  = 1 &lt;&lt; 1, /* auto-highlight */
  GTK_DEST_DEFAULT_DROP       = 1 &lt;&lt; 2, /* respond to "drag_drop" */
  GTK_DEST_DEFAULT_ALL        = 0x07
} GtkDestDefaults;
</pre><p>
The <a href="gtk-Drag-and-Drop.html#GtkDestDefaults"><span class="type">GtkDestDefaults</span></a> enumeration specifies the various
types of action that will be taken on behalf
of the user for a drag destination site.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><tt class="literal">GTK_DEST_DEFAULT_MOTION</tt></span></td><td>
   If set for a widget, GTK+, during a drag over this
   widget will check if the drag matches this widget's
   list of possible targets and actions.
   GTK+ will then call <a
href="../gdk/gdk-Drag-and-Drop.html#gdk-drag-status"
><tt class="function">gdk_drag_status()</tt></a> as appropriate.
</td></tr><tr><td><span class="term"><tt class="literal">GTK_DEST_DEFAULT_HIGHLIGHT</tt></span></td><td>
   If set for a widget, GTK+ will draw a highlight on
   this widget as long as a drag is over this widget
   and the widget drag format and action are acceptable.
</td></tr><tr><td><span class="term"><tt class="literal">GTK_DEST_DEFAULT_DROP</tt></span></td><td>
   If set for a widget, when a drop occurs, GTK+ will
   will check if the drag matches this widget's
   list of possible targets and actions. If so, 
   GTK+ will call <a href="gtk-Drag-and-Drop.html#gtk-drag-get-data"><tt class="function">gtk_drag_get_data()</tt></a> on behalf 
   of the widget. Whether or not the drop is successful,
   GTK+ will call <a href="gtk-Drag-and-Drop.html#gtk-drag-finish"><tt class="function">gtk_drag_finish()</tt></a>. If the action
   was a move, then if the drag was successful, then
   <tt class="literal">TRUE</tt> will be passed for the <i class="parameter"><tt>delete</tt></i> parameter
   to <a href="gtk-Drag-and-Drop.html#gtk-drag-finish"><tt class="function">gtk_drag_finish()</tt></a>.
</td></tr><tr><td><span class="term"><tt class="literal">GTK_DEST_DEFAULT_ALL</tt></span></td><td>
   If set, specifies that all default actions should
   be taken.

</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="GtkTargetFlags"></a>enum GtkTargetFlags</h3><a class="indexterm" name="id3521716"></a><pre class="programlisting">typedef enum {
  GTK_TARGET_SAME_APP = 1 &lt;&lt; 0,    /*&lt; nick=same-app &gt;*/
  GTK_TARGET_SAME_WIDGET = 1 &lt;&lt; 1  /*&lt; nick=same-widget &gt;*/
} GtkTargetFlags;
</pre><p>
The <a href="gtk-Drag-and-Drop.html#GtkTargetFlags"><span class="type">GtkTargetFlags</span></a> enumeration is used to specify
constraints on an entry in a <span class="type">GtkTargetTable</span>. 
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><tt class="literal">GTK_TARGET_SAME_APP</tt></span></td><td>
   If this is set, the target will only be selected
   for drags within a single application.
</td></tr><tr><td><span class="term"><tt class="literal">GTK_TARGET_SAME_WIDGET</tt></span></td><td>
   If this is set, the target will only be selected
   for drags within a single widget.

</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-dest-set"></a>gtk_drag_dest_set ()</h3><a class="indexterm" name="id3521819"></a><pre class="programlisting">void        gtk_drag_dest_set               (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a href="gtk-Drag-and-Drop.html#GtkDestDefaults">GtkDestDefaults</a> flags,
                                             const <a href="gtk-Selections.html#GtkTargetEntry">GtkTargetEntry</a> *targets,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> n_targets,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragAction"
>GdkDragAction</a> actions);</pre><p>
Sets a widget as a potential drop destination.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>widget</tt></i> :</span></td><td>a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>flags</tt></i> :</span></td><td>the flags that specify what actions GTK+ should take
 on behalf of a widget for drops onto that widget. The <i class="parameter"><tt>targets</tt></i>
 and <i class="parameter"><tt>actions</tt></i> fields only are used if <tt class="literal">GTK_DEST_DEFAULT_MOTION</tt>
 or <tt class="literal">GTK_DEST_DEFAULT_DROP</tt> are given.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>targets</tt></i> :</span></td><td>a pointer to an array of <a href="gtk-Selections.html#GtkTargetEntry"><span class="type">GtkTargetEntry</span></a>s indicating
 the drop types that this widget will accept.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>n_targets</tt></i> :</span></td><td>the number of entries in <i class="parameter"><tt>targets</tt></i>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>actions</tt></i> :</span></td><td>a bitmask of possible actions for a drop onto this
 widget.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-dest-set-proxy"></a>gtk_drag_dest_set_proxy ()</h3><a class="indexterm" name="id3523410"></a><pre class="programlisting">void        gtk_drag_dest_set_proxy         (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Windows.html#GdkWindow"
>GdkWindow</a> *proxy_window,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragProtocol"
>GdkDragProtocol</a> protocol,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> use_coordinates);</pre><p>
Sets this widget as a proxy for drops to another window.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>widget</tt></i> :</span></td><td>a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>proxy_window</tt></i> :</span></td><td>the window to which to forward drag events
</td></tr><tr><td><span class="term"><i class="parameter"><tt>protocol</tt></i> :</span></td><td>the drag protocol which the <i class="parameter"><tt>proxy_window</tt></i> accepts
           (You can use <a
href="../gdk/gdk-Drag-and-Drop.html#gdk-drag-get-protocol"
><tt class="function">gdk_drag_get_protocol()</tt></a> to determine this)
</td></tr><tr><td><span class="term"><i class="parameter"><tt>use_coordinates</tt></i> :</span></td><td>If <tt class="literal">TRUE</tt>, send the same coordinates to the
                  destination, because it is an embedded 
                  subwindow.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-dest-unset"></a>gtk_drag_dest_unset ()</h3><a class="indexterm" name="id3523597"></a><pre class="programlisting">void        gtk_drag_dest_unset             (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);</pre><p>
Clears information about a drop destination set with
<a href="gtk-Drag-and-Drop.html#gtk-drag-dest-set"><tt class="function">gtk_drag_dest_set()</tt></a>. The widget will no longer receive
notification of drags.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>widget</tt></i> :</span></td><td>a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-dest-find-target"></a>gtk_drag_dest_find_target ()</h3><a class="indexterm" name="id3523690"></a><pre class="programlisting"><a
href="../gdk/gdk-Properties-and-Atoms.html#GdkAtom"
>GdkAtom</a>     gtk_drag_dest_find_target       (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a> *target_list);</pre><p>
Looks for a match between <i class="parameter"><tt>context-&gt;targets</tt></i> and the
<i class="parameter"><tt>dest_target_list</tt></i>, returning the first matching target, otherwise
returning <tt class="literal">GDK_NONE</tt>. <i class="parameter"><tt>dest_target_list</tt></i> should usually be the return
value from <a href="gtk-Drag-and-Drop.html#gtk-drag-dest-get-target-list"><tt class="function">gtk_drag_dest_get_target_list()</tt></a>, but some widgets may
have different valid targets for different parts of the widget; in
that case, they will have to implement a drag_motion handler that
passes the correct target list to this function.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>widget</tt></i> :</span></td><td> drag destination widget
</td></tr><tr><td><span class="term"><i class="parameter"><tt>context</tt></i> :</span></td><td> drag context
</td></tr><tr><td><span class="term"><i class="parameter"><tt>target_list</tt></i> :</span></td><td> list of droppable targets, or <tt class="literal">NULL</tt> to use
   gtk_drag_dest_get_target_list (<i class="parameter"><tt>widget</tt></i>).
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> first target that the source offers and the dest can accept, or <tt class="literal">GDK_NONE</tt>
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-dest-get-target-list"></a>gtk_drag_dest_get_target_list ()</h3><a class="indexterm" name="id3523898"></a><pre class="programlisting"><a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a>* gtk_drag_dest_get_target_list
                                            (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);</pre><p>
Returns the list of targets this widget can accept from
drag-and-drop.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>widget</tt></i> :</span></td><td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the <a href="gtk-Selections.html#GtkTargetList"><span class="type">GtkTargetList</span></a>, or <tt class="literal">NULL</tt> if none
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-dest-set-target-list"></a>gtk_drag_dest_set_target_list ()</h3><a class="indexterm" name="id3524013"></a><pre class="programlisting">void        gtk_drag_dest_set_target_list   (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a> *target_list);</pre><p>
Sets the target types that this widget can accept from drag-and-drop.
The widget must first be made into a drag destination with
<a href="gtk-Drag-and-Drop.html#gtk-drag-dest-set"><tt class="function">gtk_drag_dest_set()</tt></a>.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>widget</tt></i> :</span></td><td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a> that's a drag destination
</td></tr><tr><td><span class="term"><i class="parameter"><tt>target_list</tt></i> :</span></td><td> list of droppable targets, or <tt class="literal">NULL</tt> for none
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-finish"></a>gtk_drag_finish ()</h3><a class="indexterm" name="id3524142"></a><pre class="programlisting">void        gtk_drag_finish                 (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> success,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> del,
                                             <a
href="../glib/glib-Basic-Types.html#guint32"
>guint32</a> time_);</pre><p>
Informs the drag source that the drop is finished, and
that the data of the drag will no longer be required.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>context</tt></i> :</span></td><td>the drag context.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>success</tt></i> :</span></td><td>a flag indicating whether the drop was successful
</td></tr><tr><td><span class="term"><i class="parameter"><tt>del</tt></i> :</span></td><td>a flag indicating whether the source should delete the
      original data. (This should be <tt class="literal">TRUE</tt> for a move)
</td></tr><tr><td><span class="term"><i class="parameter"><tt>time_</tt></i> :</span></td><td>the timestamp from the "drag_data_drop" signal.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-get-data"></a>gtk_drag_get_data ()</h3><a class="indexterm" name="id3524299"></a><pre class="programlisting">void        gtk_drag_get_data               (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a
href="../gdk/gdk-Properties-and-Atoms.html#GdkAtom"
>GdkAtom</a> target,
                                             <a
href="../glib/glib-Basic-Types.html#guint32"
>guint32</a> time_);</pre><p>
Gets the data associated with a drag. When the data
is received or the retrieval fails, GTK+ will emit a 
"drag_data_received" signal. Failure of the retrieval
is indicated by the length field of the <i class="parameter"><tt>selection_data</tt></i>
signal parameter being negative. However, when <a href="gtk-Drag-and-Drop.html#gtk-drag-get-data"><tt class="function">gtk_drag_get_data()</tt></a> 
is called implicitely because the <tt class="literal">GTK_DEST_DEFAULT_DROP</tt> was set, 
then the widget will not receive notification of failed
drops.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>widget</tt></i> :</span></td><td>the widget that will receive the "drag_data_received"
 signal.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>context</tt></i> :</span></td><td>the drag context
</td></tr><tr><td><span class="term"><i class="parameter"><tt>target</tt></i> :</span></td><td>the target (form of the data) to retrieve.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>time_</tt></i> :</span></td><td>a timestamp for retrieving the data. This will
       generally be the time received in a "drag_data_motion"
       or "drag_data_drop" signal.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-get-source-widget"></a>gtk_drag_get_source_widget ()</h3><a class="indexterm" name="id3524482"></a><pre class="programlisting"><a href="GtkWidget.html" title="GtkWidget">GtkWidget</a>*  gtk_drag_get_source_widget      (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context);</pre><p>
Determines the source widget for a drag.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>context</tt></i> :</span></td><td>a (destination side) drag context.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>if the drag is occurring within a single application,
          a pointer to the source widget. Otherwise, <tt class="literal">NULL</tt>.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-highlight"></a>gtk_drag_highlight ()</h3><a class="indexterm" name="id3524573"></a><pre class="programlisting">void        gtk_drag_highlight              (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);</pre><p>
Draws a highlight around a widget. This will attach
handlers to  "expose_event" and "draw", so the highlight
will continue to be displayed until <a href="gtk-Drag-and-Drop.html#gtk-drag-unhighlight"><tt class="function">gtk_drag_unhighlight()</tt></a>
is called.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>widget</tt></i> :</span></td><td>a widget to highlight


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-unhighlight"></a>gtk_drag_unhighlight ()</h3><a class="indexterm" name="id3522649"></a><pre class="programlisting">void        gtk_drag_unhighlight            (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);</pre><p>
Removes a highlight set by <a href="gtk-Drag-and-Drop.html#gtk-drag-highlight"><tt class="function">gtk_drag_highlight()</tt></a> from
a widget.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>widget</tt></i> :</span></td><td>a widget to remove the highlight from.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-begin"></a>gtk_drag_begin ()</h3><a class="indexterm" name="id3522731"></a><pre class="programlisting"><a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a>* gtk_drag_begin              (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a> *targets,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragAction"
>GdkDragAction</a> actions,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> button,
                                             <a
href="../gdk/gdk-Event-Structures.html#GdkEvent"
>GdkEvent</a> *event);</pre><p>
Initiates a drag on the source side. The function
only needs to be used when the application is
starting drags itself, and is not needed when
<a href="gtk-Drag-and-Drop.html#gtk-drag-source-set"><tt class="function">gtk_drag_source_set()</tt></a> is used.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>widget</tt></i> :</span></td><td> the source widget.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>targets</tt></i> :</span></td><td> The targets (data formats) in which the
   source can provide the data.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>actions</tt></i> :</span></td><td> A bitmask of the allowed drag actions for this drag.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>button</tt></i> :</span></td><td> The button the user clicked to start the drag.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>event</tt></i> :</span></td><td> The event that triggered the start of the drag.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the context for this drag.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-set-icon-widget"></a>gtk_drag_set_icon_widget ()</h3><a class="indexterm" name="id3522940"></a><pre class="programlisting">void        gtk_drag_set_icon_widget        (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_x,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_y);</pre><p>
Changes the icon for a widget to a given widget. GTK+
will not destroy the icon, so if you don't want
it to persist, you should connect to the "drag_end" 
signal and destroy it yourself.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>context</tt></i> :</span></td><td> the context for a drag. (This must be called 
          with a  context for the source side of a drag)
</td></tr><tr><td><span class="term"><i class="parameter"><tt>widget</tt></i> :</span></td><td> a toplevel window to use as an icon.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>hot_x</tt></i> :</span></td><td> the X offset within <i class="parameter"><tt>widget</tt></i> of the hotspot.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>hot_y</tt></i> :</span></td><td> the Y offset within <i class="parameter"><tt>widget</tt></i> of the hotspot.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-set-icon-pixmap"></a>gtk_drag_set_icon_pixmap ()</h3><a class="indexterm" name="id3523110"></a><pre class="programlisting">void        gtk_drag_set_icon_pixmap        (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a
href="../gdk/gdk-Colormaps-and-Colors.html#GdkColormap"
>GdkColormap</a> *colormap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkPixmap"
>GdkPixmap</a> *pixmap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkBitmap"
>GdkBitmap</a> *mask,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_x,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_y);</pre><p>
Sets <i class="parameter"><tt>pixmap</tt></i> as the icon for a given drag. GTK+ retains
references for the arguments, and will release them when
they are no longer needed. In general, <a href="gtk-Drag-and-Drop.html#gtk-drag-set-icon-pixbuf"><tt class="function">gtk_drag_set_icon_pixbuf()</tt></a>
will be more convenient to use.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>context</tt></i> :</span></td><td> the context for a drag. (This must be called 
           with a  context for the source side of a drag)
</td></tr><tr><td><span class="term"><i class="parameter"><tt>colormap</tt></i> :</span></td><td> the colormap of the icon 
</td></tr><tr><td><span class="term"><i class="parameter"><tt>pixmap</tt></i> :</span></td><td> the image data for the icon 
</td></tr><tr><td><span class="term"><i class="parameter"><tt>mask</tt></i> :</span></td><td> the transparency mask for the icon
</td></tr><tr><td><span class="term"><i class="parameter"><tt>hot_x</tt></i> :</span></td><td> the X offset within <i class="parameter"><tt>pixmap</tt></i> of the hotspot.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>hot_y</tt></i> :</span></td><td> the Y offset within <i class="parameter"><tt>pixmap</tt></i> of the hotspot.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-set-icon-pixbuf"></a>gtk_drag_set_icon_pixbuf ()</h3><a class="indexterm" name="id3525976"></a><pre class="programlisting">void        gtk_drag_set_icon_pixbuf        (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a
href="../gdk-pixbuf/gdk-pixbuf-gdk-pixbuf.html#GdkPixbuf"
>GdkPixbuf</a> *pixbuf,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_x,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_y);</pre><p>
Sets <i class="parameter"><tt>pixbuf</tt></i> as the icon for a given drag.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>context</tt></i> :</span></td><td> the context for a drag. (This must be called 
           with a  context for the source side of a drag)
</td></tr><tr><td><span class="term"><i class="parameter"><tt>pixbuf</tt></i> :</span></td><td> the <a
href="../gdk-pixbuf/gdk-pixbuf-gdk-pixbuf.html#GdkPixbuf"
><span class="type">GdkPixbuf</span></a> to use as the drag icon.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>hot_x</tt></i> :</span></td><td> the X offset within <i class="parameter"><tt>widget</tt></i> of the hotspot.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>hot_y</tt></i> :</span></td><td> the Y offset within <i class="parameter"><tt>widget</tt></i> of the hotspot.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-set-icon-stock"></a>gtk_drag_set_icon_stock ()</h3><a class="indexterm" name="id3526159"></a><pre class="programlisting">void        gtk_drag_set_icon_stock         (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *stock_id,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_x,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_y);</pre><p>
Sets the the icon for a given drag from a stock ID.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>context</tt></i> :</span></td><td> the context for a drag. (This must be called 
           with a  context for the source side of a drag)
</td></tr><tr><td><span class="term"><i class="parameter"><tt>stock_id</tt></i> :</span></td><td> the ID of the stock icon to use for the drag.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>hot_x</tt></i> :</span></td><td> the X offset within the icon of the hotspot.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>hot_y</tt></i> :</span></td><td> the Y offset within the icon of the hotspot.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-set-icon-default"></a>gtk_drag_set_icon_default ()</h3><a class="indexterm" name="id3526315"></a><pre class="programlisting">void        gtk_drag_set_icon_default       (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context);</pre><p>
Sets the icon for a particular drag to the default
icon.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>context</tt></i> :</span></td><td> the context for a drag. (This must be called 
             with a  context for the source side of a drag)
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-set-default-icon"></a>gtk_drag_set_default_icon ()</h3><a class="indexterm" name="id3526392"></a><pre class="programlisting">void        gtk_drag_set_default_icon       (<a
href="../gdk/gdk-Colormaps-and-Colors.html#GdkColormap"
>GdkColormap</a> *colormap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkPixmap"
>GdkPixmap</a> *pixmap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkBitmap"
>GdkBitmap</a> *mask,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_x,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> hot_y);</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt class="literal">gtk_drag_set_default_icon</tt> is deprecated and should not be used in newly-written code.</p></div><p>
Changes the default drag icon. GTK+ retains references for the
arguments, and will release them when they are no longer needed.
This function is obsolete. The default icon should now be changed
via the stock system by changing the stock pixbuf for <a href="gtk-Stock-Items.html#GTK-STOCK-DND-CAPS"><span class="type">GTK_STOCK_DND</span></a>.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>colormap</tt></i> :</span></td><td> the colormap of the icon
</td></tr><tr><td><span class="term"><i class="parameter"><tt>pixmap</tt></i> :</span></td><td> the image data for the icon
</td></tr><tr><td><span class="term"><i class="parameter"><tt>mask</tt></i> :</span></td><td> the transparency mask for an image.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>hot_x</tt></i> :</span></td><td> The X offset within <i class="parameter"><tt>widget</tt></i> of the hotspot.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>hot_y</tt></i> :</span></td><td> The Y offset within <i class="parameter"><tt>widget</tt></i> of the hotspot.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-check-threshold"></a>gtk_drag_check_threshold ()</h3><a class="indexterm" name="id3526610"></a><pre class="programlisting"><a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a>    gtk_drag_check_threshold        (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> start_x,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> start_y,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> current_x,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> current_y);</pre><p>
Checks to see if a mouse drag starting at (<i class="parameter"><tt>start_x</tt></i>, <i class="parameter"><tt>start_y</tt></i>) and ending
at (<i class="parameter"><tt>current_x</tt></i>, <i class="parameter"><tt>current_y</tt></i>) has passed the GTK+ drag threshold, and thus
should trigger the beginning of a drag-and-drop operation.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>widget</tt></i> :</span></td><td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>start_x</tt></i> :</span></td><td> X coordinate of start of drag
</td></tr><tr><td><span class="term"><i class="parameter"><tt>start_y</tt></i> :</span></td><td> Y coordinate of start of drag
</td></tr><tr><td><span class="term"><i class="parameter"><tt>current_x</tt></i> :</span></td><td> current X coordinate
</td></tr><tr><td><span class="term"><i class="parameter"><tt>current_y</tt></i> :</span></td><td> current Y coordinate
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt class="literal">TRUE</tt> if the drag threshold has been passed.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-source-set"></a>gtk_drag_source_set ()</h3><a class="indexterm" name="id3526845"></a><pre class="programlisting">void        gtk_drag_source_set             (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Windows.html#GdkModifierType"
>GdkModifierType</a> start_button_mask,
                                             const <a href="gtk-Selections.html#GtkTargetEntry">GtkTargetEntry</a> *targets,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> n_targets,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragAction"
>GdkDragAction</a> actions);</pre><p>
Sets up a widget so that GTK+ will start a drag
operation when the user clicks and drags on the
widget. The widget must have a window.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>widget</tt></i> :</span></td><td>a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>start_button_mask</tt></i> :</span></td><td>the bitmask of buttons that can start the drag
</td></tr><tr><td><span class="term"><i class="parameter"><tt>targets</tt></i> :</span></td><td>the table of targets that the drag will support
</td></tr><tr><td><span class="term"><i class="parameter"><tt>n_targets</tt></i> :</span></td><td>the number of items in <i class="parameter"><tt>targets</tt></i>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>actions</tt></i> :</span></td><td>the bitmask of possible actions for a drag from this
 widget.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-source-set-icon"></a>gtk_drag_source_set_icon ()</h3><a class="indexterm" name="id3527039"></a><pre class="programlisting">void        gtk_drag_source_set_icon        (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Colormaps-and-Colors.html#GdkColormap"
>GdkColormap</a> *colormap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkPixmap"
>GdkPixmap</a> *pixmap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkBitmap"
>GdkBitmap</a> *mask);</pre><p>
Sets the icon that will be used for drags from a particular widget
from a pixmap/mask. GTK+ retains references for the arguments, and 
will release them when they are no longer needed.
Use <a href="gtk-Drag-and-Drop.html#gtk-drag-source-set-icon-pixbuf"><tt class="function">gtk_drag_source_set_icon_pixbuf()</tt></a> instead.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>widget</tt></i> :</span></td><td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>colormap</tt></i> :</span></td><td> the colormap of the icon
</td></tr><tr><td><span class="term"><i class="parameter"><tt>pixmap</tt></i> :</span></td><td> the image data for the icon
</td></tr><tr><td><span class="term"><i class="parameter"><tt>mask</tt></i> :</span></td><td> the transparency mask for an image.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-source-set-icon-pixbuf"></a>gtk_drag_source_set_icon_pixbuf ()</h3><a class="indexterm" name="id3527216"></a><pre class="programlisting">void        gtk_drag_source_set_icon_pixbuf (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk-pixbuf/gdk-pixbuf-gdk-pixbuf.html#GdkPixbuf"
>GdkPixbuf</a> *pixbuf);</pre><p>
Sets the icon that will be used for drags from a particular widget
from a <a
href="../gdk-pixbuf/gdk-pixbuf-gdk-pixbuf.html#GdkPixbuf"
><span class="type">GdkPixbuf</span></a>. GTK+ retains a reference for <i class="parameter"><tt>pixbuf</tt></i> and will 
release it when it is no longer needed.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>widget</tt></i> :</span></td><td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>pixbuf</tt></i> :</span></td><td> the <a
href="../gdk-pixbuf/gdk-pixbuf-gdk-pixbuf.html#GdkPixbuf"
><span class="type">GdkPixbuf</span></a> for the drag icon
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-source-set-icon-stock"></a>gtk_drag_source_set_icon_stock ()</h3><a class="indexterm" name="id3527353"></a><pre class="programlisting">void        gtk_drag_source_set_icon_stock  (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *stock_id);</pre><p>
Sets the icon that will be used for drags from a particular source
to a stock icon.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>widget</tt></i> :</span></td><td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>stock_id</tt></i> :</span></td><td> the ID of the stock icon to use
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-source-unset"></a>gtk_drag_source_unset ()</h3><a class="indexterm" name="id3527463"></a><pre class="programlisting">void        gtk_drag_source_unset           (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);</pre><p>
Undoes the effects of <a href="gtk-Drag-and-Drop.html#gtk-drag-source-set"><tt class="function">gtk_drag_source_set()</tt></a>.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>widget</tt></i> :</span></td><td>a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-source-set-target-list"></a>gtk_drag_source_set_target_list ()</h3><a class="indexterm" name="id3527555"></a><pre class="programlisting">void        gtk_drag_source_set_target_list (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a> *target_list);</pre><p>
Changes the target types that this widget offers for drag-and-drop.
The widget must first be made into a drag source with
<a href="gtk-Drag-and-Drop.html#gtk-drag-source-set"><tt class="function">gtk_drag_source_set()</tt></a>.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>widget</tt></i> :</span></td><td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a> that's a drag source
</td></tr><tr><td><span class="term"><i class="parameter"><tt>target_list</tt></i> :</span></td><td> list of draggable targets, or <tt class="literal">NULL</tt> for none
</td></tr></tbody></table></div><p>Since  2.4
</p></div><hr><div class="refsect2" lang="en"><h3><a name="gtk-drag-source-get-target-list"></a>gtk_drag_source_get_target_list ()</h3><a class="indexterm" name="id3527688"></a><pre class="programlisting"><a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a>* gtk_drag_source_get_target_list
                                            (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);</pre><p>
Gets the list of targets this widget can provide for
drag-and-drop.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>widget</tt></i> :</span></td><td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the <a href="gtk-Selections.html#GtkTargetList"><span class="type">GtkTargetList</span></a>, or <tt class="literal">NULL</tt> if none

</td></tr></tbody></table></div><p>Since  2.4
</p></div></div></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="gtk-Clipboards.html"><b>&lt;&lt; Clipboards</b></a></td><td align="right"><a accesskey="n" href="GtkIconTheme.html"><b>GtkIconTheme &gt;&gt;</b></a></td></tr></table></body></html>
