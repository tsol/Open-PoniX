<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Glyph Storage</title><meta name="generator" content="DocBook XSL Stylesheets V1.61.2"><meta name="generator" content="GTK-Doc V1.2 (XML mode)"><style type="text/css">
        .synopsis, .classsynopsis {
            background: #eeeeee;
            border: solid 1px #aaaaaa;
            padding: 0.5em;
        }
        .programlisting {
            background: #eeeeff;
            border: solid 1px #aaaaff;
            padding: 0.5em;
        }
        .variablelist {
            padding: 4px;
            margin-left: 3em;
        }
        .navigation {
            background: #ffeeee;
            border: solid 1px #ffaaaa;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
        }
        .navigation a {
            color: #770000;
        }
        .navigation a:visited {
            color: #550000;
        }
        .navigation .title {
            font-size: 200%;
        }
      </style><link rel="home" href="index.html" title="Pango Reference Manual"><link rel="up" href="pango.html" title="Basic Pango Interfaces"><link rel="previous" href="pango-Text-Processing.html" title="Rendering"><link rel="next" href="pango-Fonts.html" title="Fonts"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="pango-Text-Processing.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="pango.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">Pango Reference Manual</th><td><a accesskey="n" href="pango-Fonts.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="refentry" lang="en"><a name="pango-Glyph-Storage"></a><div class="titlepage"><div></div><div></div></div><div class="refnamediv"><h2><span class="refentrytitle">Glyph Storage</span></h2><p>Glyph Storage &#8212; Structures for storing information about glyphs</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">



#define     <a href="pango-Glyph-Storage.html#PANGO-SCALE-CAPS">PANGO_SCALE</a>
#define     <a href="pango-Glyph-Storage.html#PANGO-PIXELS-CAPS">PANGO_PIXELS</a>                    (d)
struct      <a href="pango-Glyph-Storage.html#PangoRectangle">PangoRectangle</a>;
#define     <a href="pango-Glyph-Storage.html#PANGO-ASCENT-CAPS">PANGO_ASCENT</a>                    (rect)
#define     <a href="pango-Glyph-Storage.html#PANGO-DESCENT-CAPS">PANGO_DESCENT</a>                   (rect)
#define     <a href="pango-Glyph-Storage.html#PANGO-LBEARING-CAPS">PANGO_LBEARING</a>                  (rect)
#define     <a href="pango-Glyph-Storage.html#PANGO-RBEARING-CAPS">PANGO_RBEARING</a>                  (rect)
typedef     <a href="pango-Glyph-Storage.html#PangoGlyph">PangoGlyph</a>;
struct      <a href="pango-Glyph-Storage.html#PangoGlyphInfo">PangoGlyphInfo</a>;
struct      <a href="pango-Glyph-Storage.html#PangoGlyphGeometry">PangoGlyphGeometry</a>;
typedef     <a href="pango-Glyph-Storage.html#PangoGlyphUnit">PangoGlyphUnit</a>;
struct      <a href="pango-Glyph-Storage.html#PangoGlyphVisAttr">PangoGlyphVisAttr</a>;
struct      <a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a>;
struct      <a href="pango-Glyph-Storage.html#PangoGlyphItem">PangoGlyphItem</a>;
#define     <a href="pango-Glyph-Storage.html#PANGO-TYPE-GLYPH-STRING-CAPS">PANGO_TYPE_GLYPH_STRING</a>
<a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a>* <a href="pango-Glyph-Storage.html#pango-glyph-string-new">pango_glyph_string_new</a>    (void);
<a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a>* <a href="pango-Glyph-Storage.html#pango-glyph-string-copy">pango_glyph_string_copy</a>   (<a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a> *string);
void        <a href="pango-Glyph-Storage.html#pango-glyph-string-set-size">pango_glyph_string_set_size</a>     (<a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a> *string,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> new_len);
void        <a href="pango-Glyph-Storage.html#pango-glyph-string-free">pango_glyph_string_free</a>         (<a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a> *string);
void        <a href="pango-Glyph-Storage.html#pango-glyph-string-extents">pango_glyph_string_extents</a>      (<a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a> *glyphs,
                                             <a href="pango-Fonts.html#PangoFont">PangoFont</a> *font,
                                             <a href="pango-Glyph-Storage.html#PangoRectangle">PangoRectangle</a> *ink_rect,
                                             <a href="pango-Glyph-Storage.html#PangoRectangle">PangoRectangle</a> *logical_rect);
void        <a href="pango-Glyph-Storage.html#pango-glyph-string-extents-range">pango_glyph_string_extents_range</a>
                                            (<a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a> *glyphs,
                                             int start,
                                             int end,
                                             <a href="pango-Fonts.html#PangoFont">PangoFont</a> *font,
                                             <a href="pango-Glyph-Storage.html#PangoRectangle">PangoRectangle</a> *ink_rect,
                                             <a href="pango-Glyph-Storage.html#PangoRectangle">PangoRectangle</a> *logical_rect);
void        <a href="pango-Glyph-Storage.html#pango-glyph-string-index-to-x">pango_glyph_string_index_to_x</a>   (<a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a> *glyphs,
                                             char *text,
                                             int length,
                                             <a href="pango-Text-Processing.html#PangoAnalysis">PangoAnalysis</a> *analysis,
                                             int index_,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> trailing,
                                             int *x_pos);
void        <a href="pango-Glyph-Storage.html#pango-glyph-string-x-to-index">pango_glyph_string_x_to_index</a>   (<a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a> *glyphs,
                                             char *text,
                                             int length,
                                             <a href="pango-Text-Processing.html#PangoAnalysis">PangoAnalysis</a> *analysis,
                                             int x_pos,
                                             int *index_,
                                             int *trailing);
void        <a href="pango-Glyph-Storage.html#pango-glyph-string-get-logical-widths">pango_glyph_string_get_logical_widths</a>
                                            (<a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a> *glyphs,
                                             const char *text,
                                             int length,
                                             int embedding_level,
                                             int *logical_widths);
<a href="pango-Glyph-Storage.html#PangoGlyphItem">PangoGlyphItem</a>* <a href="pango-Glyph-Storage.html#pango-glyph-item-split">pango_glyph_item_split</a>      (<a href="pango-Glyph-Storage.html#PangoGlyphItem">PangoGlyphItem</a> *orig,
                                             const char *text,
                                             int split_index);
<a
href="../glib/glib-Singly-Linked-Lists.html#GSList"
>GSList</a>*     <a href="pango-Glyph-Storage.html#pango-glyph-item-apply-attrs">pango_glyph_item_apply_attrs</a>    (<a href="pango-Glyph-Storage.html#PangoGlyphItem">PangoGlyphItem</a> *glyph_item,
                                             const char *text,
                                             <a href="pango-Text-Attributes.html#PangoAttrList">PangoAttrList</a> *list);

</pre></div><div class="refsect1" lang="en"><h2>Description</h2><p>
<a href="pango-Text-Processing.html#pango-shape"><tt class="function">pango_shape()</tt></a> produces a string of glyphs which
can be measured or drawn to the screen. The following
structures are used to store information about
glyphs.
</p></div><div class="refsect1" lang="en"><h2>Details</h2><div class="refsect2" lang="en"><h3><a name="PANGO-SCALE-CAPS"></a>PANGO_SCALE</h3><a class="indexterm" name="id3482758"></a><pre class="programlisting">#define PANGO_SCALE 1024
</pre><p>
The PANGO_SCALE macro represents the scale between dimensions used
for Pango distances and device units. (The definition of device
units is dependent on the output device; it will typically be pixels
for a screen, and points for a printer.) PANGO_SCALE is currently
1024, but this may be changed in the future.
</p><p>
When setting font sizes, device units are always considered to be
points (as in "12 point font"), rather than pixels. 
</p></div><hr><div class="refsect2" lang="en"><h3><a name="PANGO-PIXELS-CAPS"></a>PANGO_PIXELS()</h3><a class="indexterm" name="id3482800"></a><pre class="programlisting">#define     PANGO_PIXELS(d)</pre><p>
Converts a dimension to device units.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>d</tt></i> :</span></td><td>a dimension in Pango units.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="PangoRectangle"></a>struct PangoRectangle</h3><a class="indexterm" name="id3482854"></a><pre class="programlisting">struct PangoRectangle {

  int x;
  int y;
  int width;
  int height;
};
</pre><p>
The <a href="pango-Glyph-Storage.html#PangoRectangle"><span class="type">PangoRectangle</span></a> structure represents a rectangle. It is frequently
used to represent the logical or ink extents of a single glyph or section
of text. (See, for instance, <a href="pango-Fonts.html#pango-font-get-glyph-extents"><tt class="function">pango_font_get_glyph_extents()</tt></a>)
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term">int <i class="structfield"><tt>x</tt></i></span></td><td>X coordinate of the left side of the rectangle.
</td></tr><tr><td><span class="term">int <i class="structfield"><tt>y</tt></i></span></td><td>Y coordinate of the the top side of the rectangle.
</td></tr><tr><td><span class="term">int <i class="structfield"><tt>width</tt></i></span></td><td>width of the rectangle.
</td></tr><tr><td><span class="term">int <i class="structfield"><tt>height</tt></i></span></td><td>height of the rectangle.

</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="PANGO-ASCENT-CAPS"></a>PANGO_ASCENT()</h3><a class="indexterm" name="id3483014"></a><pre class="programlisting">#define PANGO_ASCENT(rect) (-(rect).y)
</pre><p>
Extracts the <i class="firstterm">ascent</i> from a <a href="pango-Glyph-Storage.html#PangoRectangle"><span class="type">PangoRectangle</span></a>
representing glyph extents. The ascent is the distance from the
baseline to the highest point of the character. This is positive if the
glyph ascends above the baseline.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>rect</tt></i> :</span></td><td>a <a href="pango-Glyph-Storage.html#PangoRectangle"><span class="type">PangoRectangle</span></a>


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="PANGO-DESCENT-CAPS"></a>PANGO_DESCENT()</h3><a class="indexterm" name="id3483095"></a><pre class="programlisting">#define PANGO_DESCENT(rect) ((rect).y + (rect).height)
</pre><p>
Extracts the <i class="firstterm">descent</i> from a <a href="pango-Glyph-Storage.html#PangoRectangle"><span class="type">PangoRectangle</span></a>
representing glyph extents. The descent is the distance from the
baseline to the lowest point of the character. This is positive if the
glyph descends below the baseline.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>rect</tt></i> :</span></td><td>a <a href="pango-Glyph-Storage.html#PangoRectangle"><span class="type">PangoRectangle</span></a>


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="PANGO-LBEARING-CAPS"></a>PANGO_LBEARING()</h3><a class="indexterm" name="id3483176"></a><pre class="programlisting">#define PANGO_LBEARING(rect) ((rect).x)
</pre><p>
Extracts the <i class="firstterm">left bearing</i> from a <a href="pango-Glyph-Storage.html#PangoRectangle"><span class="type">PangoRectangle</span></a>
representing glyph extents. The left bearing is the distance from the
horizontal origin to the farthest left point of the character.
This is positive for characters drawn completely to the right of the
glyph origin.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>rect</tt></i> :</span></td><td>a <a href="pango-Glyph-Storage.html#PangoRectangle"><span class="type">PangoRectangle</span></a>


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="PANGO-RBEARING-CAPS"></a>PANGO_RBEARING()</h3><a class="indexterm" name="id3483258"></a><pre class="programlisting">#define PANGO_RBEARING(rect) ((rect).x + (rect).width)
</pre><p>
Extracts the <i class="firstterm">right bearing</i> from a <a href="pango-Glyph-Storage.html#PangoRectangle"><span class="type">PangoRectangle</span></a>
representing glyph extents. The right bearing is the distance from the
horizontal origin to the farthest right point of the character.
This is positive except for characters drawn completely to the left of the
horizontal origin.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>rect</tt></i> :</span></td><td>a <a href="pango-Glyph-Storage.html#PangoRectangle"><span class="type">PangoRectangle</span></a>


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="PangoGlyph"></a>PangoGlyph</h3><a class="indexterm" name="id3482333"></a><pre class="programlisting">typedef guint32 PangoGlyph;
</pre><p>
A <a href="pango-Glyph-Storage.html#PangoGlyph"><span class="type">PangoGlyph</span></a> represents a single glyph in the output form of a string.
</p></div><hr><div class="refsect2" lang="en"><h3><a name="PangoGlyphInfo"></a>struct PangoGlyphInfo</h3><a class="indexterm" name="id3482373"></a><pre class="programlisting">struct PangoGlyphInfo {

  PangoGlyph    glyph;
  PangoGlyphGeometry geometry;
  PangoGlyphVisAttr  attr;
};
</pre><p>
The <a href="pango-Glyph-Storage.html#PangoGlyphInfo"><span class="type">PangoGlyphInfo</span></a> structure represents a single glyph together with
positioning information and visual attributes.
It contains the following fields.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><a href="pango-Glyph-Storage.html#PangoGlyph">PangoGlyph</a> <i class="structfield"><tt>glyph</tt></i></span></td><td>the glyph itself.
</td></tr><tr><td><span class="term"><a href="pango-Glyph-Storage.html#PangoGlyphGeometry">PangoGlyphGeometry</a> <i class="structfield"><tt>geometry</tt></i></span></td><td>the positional information about the glyph.
</td></tr><tr><td><span class="term"><a href="pango-Glyph-Storage.html#PangoGlyphVisAttr">PangoGlyphVisAttr</a> <i class="structfield"><tt>attr</tt></i></span></td><td>the visual attributes of the glyph.

</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="PangoGlyphGeometry"></a>struct PangoGlyphGeometry</h3><a class="indexterm" name="id3482496"></a><pre class="programlisting">struct PangoGlyphGeometry {

  PangoGlyphUnit width;
  PangoGlyphUnit x_offset;  
  PangoGlyphUnit y_offset;
};
</pre><p>
The <a href="pango-Glyph-Storage.html#PangoGlyphGeometry"><span class="type">PangoGlyphGeometry</span></a> structure contains width and positioning
information for a single glyph. 
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><a href="pango-Glyph-Storage.html#PangoGlyphUnit">PangoGlyphUnit</a> <i class="structfield"><tt>width</tt></i></span></td><td>the logical width to use for the the character.
</td></tr><tr><td><span class="term"><a href="pango-Glyph-Storage.html#PangoGlyphUnit">PangoGlyphUnit</a> <i class="structfield"><tt>x_offset</tt></i></span></td><td>horizontal offset from nominal character position.
</td></tr><tr><td><span class="term"><a href="pango-Glyph-Storage.html#PangoGlyphUnit">PangoGlyphUnit</a> <i class="structfield"><tt>y_offset</tt></i></span></td><td>vertical offset from nominal character position.

</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="PangoGlyphUnit"></a>PangoGlyphUnit</h3><a class="indexterm" name="id3483934"></a><pre class="programlisting">typedef gint32 PangoGlyphUnit;
</pre><p>
The <a href="pango-Glyph-Storage.html#PangoGlyphUnit"><span class="type">PangoGlyphUnit</span></a> type is used to store dimensions within
Pango. Dimensions are stored in 1/PANGO_SCALE of a device unit.
(A device unit might be a pixel for screen display, or
a point on a printer.) PANGO_SCALE is currently 1024, and
is unlikely to change, but you should not depend on its
exact value. The <a href="pango-Glyph-Storage.html#PANGO-PIXELS-CAPS"><tt class="function">PANGO_PIXELS()</tt></a> macro can be used to convert
from glyph units into device units with correct rounding.
</p></div><hr><div class="refsect2" lang="en"><h3><a name="PangoGlyphVisAttr"></a>struct PangoGlyphVisAttr</h3><a class="indexterm" name="id3483995"></a><pre class="programlisting">struct PangoGlyphVisAttr {

  guint is_cluster_start : 1;
};
</pre><p>
The PangoGlyphVisAttr is used to communicate information between
the shaping phase and the rendering phase. It's contents
are still evolving.

</p><div class="informaltable"><table width="100%" border="0"><colgroup><col><col></colgroup><tbody><tr><td><a
href="../glib/glib-Basic-Types.html#guint"
><span class="type">guint</span></a> is_cluster_start : 1;</td><td>set for the first logical glyph in each cluster. (Clusters
       are stored in visual order, within the cluster, glyphs
       are always ordered in logical order, since visual
       order is meaningless; that is, in Arabic text, accent glyphs
       follow the glyphs for the base character.)
</td></tr></tbody></table></div><p>
</p></div><hr><div class="refsect2" lang="en"><h3><a name="PangoGlyphString"></a>struct PangoGlyphString</h3><a class="indexterm" name="id3484087"></a><pre class="programlisting">struct PangoGlyphString {

  gint num_glyphs;

  PangoGlyphInfo *glyphs;

  /* This is a memory inefficient way of representing the information
   * here - each value gives the byte index within the text
   * corresponding to the glyph string of the start of the cluster to
   * which the glyph belongs.
   */
  gint *log_clusters;

};
</pre><p>
The <a href="pango-Glyph-Storage.html#PangoGlyphString"><span class="type">PangoGlyphString</span></a> structure is used to store strings
of glyphs with geometry and visual attribute information.
The storage for the glyph information is owned
by the structure which simplifies memory management.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> <i class="structfield"><tt>num_glyphs</tt></i></span></td><td>the number of glyphs in the string.
</td></tr><tr><td><span class="term"><a href="pango-Glyph-Storage.html#PangoGlyphInfo">PangoGlyphInfo</a> *<i class="structfield"><tt>glyphs</tt></i></span></td><td>an array of <a href="pango-Glyph-Storage.html#PangoGlyphInfo"><span class="type">PangoGlyphInfo</span></a> structures of length <i class="structfield"><tt>num_glyphs</tt></i>.
</td></tr><tr><td><span class="term"><a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> *<i class="structfield"><tt>log_clusters</tt></i></span></td><td>for each glyph, byte index of the starting character for the
cluster. The indices are relative to the start of the text
corresponding to the PangoGlyphString.

</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="PangoGlyphItem"></a>struct PangoGlyphItem</h3><a class="indexterm" name="id3484231"></a><pre class="programlisting">struct PangoGlyphItem {

  PangoItem        *item;
  PangoGlyphString *glyphs;
};
</pre><p>
A <a href="pango-Glyph-Storage.html#PangoGlyphItem"><span class="type">PangoGlyphItem</span></a> is a pair of a <a href="pango-Text-Processing.html#PangoItem"><span class="type">PangoItem</span></a> and the glyphs
resulting from shaping the text corresponding to an item.
As an example of the usage of <a href="pango-Glyph-Storage.html#PangoGlyphItem"><span class="type">PangoGlyphItem</span></a>, the results
of shaping text with <a href="pango-Layout-Objects.html#PangoLayout"><span class="type">PangoLayout</span></a> is a list of <a href="pango-Layout-Objects.html#PangoLayoutLine"><span class="type">PangoLayoutLine</span></a>,
each of which contains a list of <a href="pango-Glyph-Storage.html#PangoGlyphItem"><span class="type">PangoGlyphItem</span></a>.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><a href="pango-Text-Processing.html#PangoItem">PangoItem</a> *<i class="structfield"><tt>item</tt></i></span></td><td>a <a href="pango-Text-Processing.html#PangoItem"><span class="type">PangoItem</span></a> structure that provides information
       about a segment of text.
</td></tr><tr><td><span class="term"><a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a> *<i class="structfield"><tt>glyphs</tt></i></span></td><td>the glyphs obtained by shaping the text
         corresponding to <i class="parameter"><tt>item</tt></i>.

</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="PANGO-TYPE-GLYPH-STRING-CAPS"></a>PANGO_TYPE_GLYPH_STRING</h3><a class="indexterm" name="id3484400"></a><pre class="programlisting">#define PANGO_TYPE_GLYPH_STRING (pango_glyph_string_get_type ())
</pre><p>
The GObject type for <a href="pango-Glyph-Storage.html#PangoGlyphString"><span class="type">PangoGlyphString</span></a>.
</p></div><hr><div class="refsect2" lang="en"><h3><a name="pango-glyph-string-new"></a>pango_glyph_string_new ()</h3><a class="indexterm" name="id3484442"></a><pre class="programlisting"><a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a>* pango_glyph_string_new    (void);</pre><p>
Create a new PangoGlyphString.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the new PangoGlyphString
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="pango-glyph-string-copy"></a>pango_glyph_string_copy ()</h3><a class="indexterm" name="id3484503"></a><pre class="programlisting"><a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a>* pango_glyph_string_copy   (<a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a> *string);</pre><p>
Copy a glyph string and associated storage.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>string</tt></i> :</span></td><td> a PangoGlyphString.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the copied PangoGlyphString
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="pango-glyph-string-set-size"></a>pango_glyph_string_set_size ()</h3><a class="indexterm" name="id3484592"></a><pre class="programlisting">void        pango_glyph_string_set_size     (<a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a> *string,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> new_len);</pre><p>
Resize a glyph string to the given length.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>string</tt></i> :</span></td><td>    a PangoGlyphString.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>new_len</tt></i> :</span></td><td>   the new length of the string.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="pango-glyph-string-free"></a>pango_glyph_string_free ()</h3><a class="indexterm" name="id3484692"></a><pre class="programlisting">void        pango_glyph_string_free         (<a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a> *string);</pre><p>
Free a glyph string and associated storage.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>string</tt></i> :</span></td><td>    a PangoGlyphString.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="pango-glyph-string-extents"></a>pango_glyph_string_extents ()</h3><a class="indexterm" name="id3484767"></a><pre class="programlisting">void        pango_glyph_string_extents      (<a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a> *glyphs,
                                             <a href="pango-Fonts.html#PangoFont">PangoFont</a> *font,
                                             <a href="pango-Glyph-Storage.html#PangoRectangle">PangoRectangle</a> *ink_rect,
                                             <a href="pango-Glyph-Storage.html#PangoRectangle">PangoRectangle</a> *logical_rect);</pre><p>
Compute the logical and ink extents of a glyph string. See the documentation
for <a href="pango-Fonts.html#pango-font-get-glyph-extents"><tt class="function">pango_font_get_glyph_extents()</tt></a> for details about the interpretation
of the rectangles.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>glyphs</tt></i> :</span></td><td>   a <a href="pango-Glyph-Storage.html#PangoGlyphString"><span class="type">PangoGlyphString</span></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>font</tt></i> :</span></td><td>     a <a href="pango-Fonts.html#PangoFont"><span class="type">PangoFont</span></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>ink_rect</tt></i> :</span></td><td> rectangle used to store the extents of the glyph string as drawn
           or <tt class="literal">NULL</tt> to indicate that the result is not needed.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>logical_rect</tt></i> :</span></td><td> rectangle used to store the logical extents of the glyph string
           or <tt class="literal">NULL</tt> to indicate that the result is not needed.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="pango-glyph-string-extents-range"></a>pango_glyph_string_extents_range ()</h3><a class="indexterm" name="id3484971"></a><pre class="programlisting">void        pango_glyph_string_extents_range
                                            (<a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a> *glyphs,
                                             int start,
                                             int end,
                                             <a href="pango-Fonts.html#PangoFont">PangoFont</a> *font,
                                             <a href="pango-Glyph-Storage.html#PangoRectangle">PangoRectangle</a> *ink_rect,
                                             <a href="pango-Glyph-Storage.html#PangoRectangle">PangoRectangle</a> *logical_rect);</pre><p>
Computes the extents of a sub-portion of a glyph string. The extents are
relative to the start of the glyph string range (the origin of their
coordinate system is at the start of the range, not at the start of the entire
glyph string).</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>glyphs</tt></i> :</span></td><td>   a <a href="pango-Glyph-Storage.html#PangoGlyphString"><span class="type">PangoGlyphString</span></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>start</tt></i> :</span></td><td>    start index
</td></tr><tr><td><span class="term"><i class="parameter"><tt>end</tt></i> :</span></td><td>      end index (the range is the set of bytes with
              indices such that start &lt;= index &lt; end)
</td></tr><tr><td><span class="term"><i class="parameter"><tt>font</tt></i> :</span></td><td>     a <a href="pango-Fonts.html#PangoFont"><span class="type">PangoFont</span></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>ink_rect</tt></i> :</span></td><td> rectangle used to store the extents of the glyph string range as drawn
           or <tt class="literal">NULL</tt> to indicate that the result is not needed.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>logical_rect</tt></i> :</span></td><td> rectangle used to store the logical extents of the glyph string range
           or <tt class="literal">NULL</tt> to indicate that the result is not needed.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="pango-glyph-string-index-to-x"></a>pango_glyph_string_index_to_x ()</h3><a class="indexterm" name="id3485219"></a><pre class="programlisting">void        pango_glyph_string_index_to_x   (<a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a> *glyphs,
                                             char *text,
                                             int length,
                                             <a href="pango-Text-Processing.html#PangoAnalysis">PangoAnalysis</a> *analysis,
                                             int index_,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> trailing,
                                             int *x_pos);</pre><p>
Converts from character position to x position. (X position
is measured from the left edge of the run). Character positions
are computed by dividing up each cluster into equal portions.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>glyphs</tt></i> :</span></td><td>    the glyphs return from <a href="pango-Text-Processing.html#pango-shape"><tt class="function">pango_shape()</tt></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>text</tt></i> :</span></td><td>      the text for the run
</td></tr><tr><td><span class="term"><i class="parameter"><tt>length</tt></i> :</span></td><td>    the number of bytes (not characters) in <i class="parameter"><tt>text</tt></i>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>analysis</tt></i> :</span></td><td>  the analysis information return from <a href="pango-Text-Processing.html#pango-itemize"><tt class="function">pango_itemize()</tt></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>index_</tt></i> :</span></td><td>    the byte index within <i class="parameter"><tt>text</tt></i>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>trailing</tt></i> :</span></td><td>  whether we should compute the result for the beginning
            or end of the character.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>x_pos</tt></i> :</span></td><td>     location to store result
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="pango-glyph-string-x-to-index"></a>pango_glyph_string_x_to_index ()</h3><a class="indexterm" name="id3485491"></a><pre class="programlisting">void        pango_glyph_string_x_to_index   (<a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a> *glyphs,
                                             char *text,
                                             int length,
                                             <a href="pango-Text-Processing.html#PangoAnalysis">PangoAnalysis</a> *analysis,
                                             int x_pos,
                                             int *index_,
                                             int *trailing);</pre><p>
Convert from x offset to character position. Character positions
are computed by dividing up each cluster into equal portions.
In scripts where positioning within a cluster is not allowed
(such as Thai), the returned value may not be a valid cursor
position; the caller must combine the result with the logical
attributes for the text to compute the valid cursor position.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>glyphs</tt></i> :</span></td><td>    the glyphs return from <a href="pango-Text-Processing.html#pango-shape"><tt class="function">pango_shape()</tt></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>text</tt></i> :</span></td><td>      the text for the run
</td></tr><tr><td><span class="term"><i class="parameter"><tt>length</tt></i> :</span></td><td>    the number of bytes (not characters) in text.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>analysis</tt></i> :</span></td><td>  the analysis information return from <a href="pango-Text-Processing.html#pango-itemize"><tt class="function">pango_itemize()</tt></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>x_pos</tt></i> :</span></td><td>     the x offset (in <a href="pango-Glyph-Storage.html#PangoGlyphUnit"><span class="type">PangoGlyphUnit</span></a>)
</td></tr><tr><td><span class="term"><i class="parameter"><tt>index_</tt></i> :</span></td><td>    location to store calculated byte index within <i class="parameter"><tt>text</tt></i>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>trailing</tt></i> :</span></td><td>  location to store a integer indicating where
            whether the user clicked on the leading or trailing
            edge of the character.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="pango-glyph-string-get-logical-widths"></a>pango_glyph_string_get_logical_widths ()</h3><a class="indexterm" name="id3485773"></a><pre class="programlisting">void        pango_glyph_string_get_logical_widths
                                            (<a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a> *glyphs,
                                             const char *text,
                                             int length,
                                             int embedding_level,
                                             int *logical_widths);</pre><p>
Given a <a href="pango-Glyph-Storage.html#PangoGlyphString"><span class="type">PangoGlyphString</span></a> resulting from <a href="pango-Text-Processing.html#pango-shape"><tt class="function">pango_shape()</tt></a> and the corresponding
text, determine the screen width corresponding to each character. When
multiple characters compose a single cluster, the width of the entire
cluster is divided equally among the characters.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>glyphs</tt></i> :</span></td><td> a <a href="pango-Glyph-Storage.html#PangoGlyphString"><span class="type">PangoGlyphString</span></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>text</tt></i> :</span></td><td> the text corresponding to the glyphs
</td></tr><tr><td><span class="term"><i class="parameter"><tt>length</tt></i> :</span></td><td> the length of <i class="parameter"><tt>text</tt></i>, in bytes
</td></tr><tr><td><span class="term"><i class="parameter"><tt>embedding_level</tt></i> :</span></td><td> the embedding level of the string
</td></tr><tr><td><span class="term"><i class="parameter"><tt>logical_widths</tt></i> :</span></td><td> an array whose length is g_utf8_strlen (text, length)
                 to be filled in with the resulting character widths.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="pango-glyph-item-split"></a>pango_glyph_item_split ()</h3><a class="indexterm" name="id3485996"></a><pre class="programlisting"><a href="pango-Glyph-Storage.html#PangoGlyphItem">PangoGlyphItem</a>* pango_glyph_item_split      (<a href="pango-Glyph-Storage.html#PangoGlyphItem">PangoGlyphItem</a> *orig,
                                             const char *text,
                                             int split_index);</pre><p>
Modifies <i class="parameter"><tt>orig</tt></i> to cover only the text after <i class="parameter"><tt>split_index</tt></i>, and
returns a new item that covers the text before <i class="parameter"><tt>split_index</tt></i> that
used to be in <i class="parameter"><tt>orig</tt></i>. You can think of <i class="parameter"><tt>split_index</tt></i> as the length of
the returned item. <i class="parameter"><tt>split_index</tt></i> may not be 0, and it may not be
greater than or equal to the length of <i class="parameter"><tt>orig</tt></i> (that is, there must
be at least one byte assigned to each item, you can't create a
zero-length item).
</p><p>
This function is similar in function to <a href="pango-Text-Processing.html#pango-item-split"><tt class="function">pango_item_split()</tt></a> (and uses
it internally)</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>orig</tt></i> :</span></td><td> a <a href="pango-Text-Processing.html#PangoItem"><span class="type">PangoItem</span></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>text</tt></i> :</span></td><td> text to which positions in <i class="parameter"><tt>orig</tt></i> apply.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>split_index</tt></i> :</span></td><td> byte index of position to split item, relative to the start of the item
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> new item representing text before <i class="parameter"><tt>split_index</tt></i>
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><h3><a name="pango-glyph-item-apply-attrs"></a>pango_glyph_item_apply_attrs ()</h3><a class="indexterm" name="id3486229"></a><pre class="programlisting"><a
href="../glib/glib-Singly-Linked-Lists.html#GSList"
>GSList</a>*     pango_glyph_item_apply_attrs    (<a href="pango-Glyph-Storage.html#PangoGlyphItem">PangoGlyphItem</a> *glyph_item,
                                             const char *text,
                                             <a href="pango-Text-Attributes.html#PangoAttrList">PangoAttrList</a> *list);</pre><p>
Splits a shaped item (PangoGlyphItem) into multiple items based
on an attribute list. The idea is that if you have attributes
that don't affect shaping, such as color or underline, to avoid
affecting shaping, you filter them out (<a href="pango-Text-Attributes.html#pango-attr-list-filter"><tt class="function">pango_attr_list_filter()</tt></a>),
apply the shaping process and then reapply them to the result using
this function.
</p><p>
All attributes that start or end inside a cluster are applied
to that cluster; for instance, if half of a cluster is underlined
and the other-half strikethough, then the cluster will end
up with both underline and strikethrough attributes. In these
cases, it may happen that item-&gt;extra_attrs for some of the
result items can have multiple attributes of the same type.
</p><p>
This function takes ownership of <i class="parameter"><tt>glyph_item</tt></i>; it will be reused
as one of the elements in the list.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>glyph_item</tt></i> :</span></td><td> a shaped item 
</td></tr><tr><td><span class="term"><i class="parameter"><tt>text</tt></i> :</span></td><td> text that <i class="parameter"><tt>list</tt></i> applies to
</td></tr><tr><td><span class="term"><i class="parameter"><tt>list</tt></i> :</span></td><td> a <a href="pango-Text-Attributes.html#PangoAttrList"><span class="type">PangoAttrList</span></a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> a list of glyph items resulting from splitting
  <i class="parameter"><tt>glyph_item</tt></i>. Free the elements using <tt class="function">pango_glyph_item_free()</tt>,
  the list using <a
href="../glib/glib-Singly-Linked-Lists.html#g-slist-free"
><tt class="function">g_slist_free()</tt></a>.
</td></tr></tbody></table></div></div></div></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="pango-Text-Processing.html"><b>&lt;&lt; Rendering</b></a></td><td align="right"><a accesskey="n" href="pango-Fonts.html"><b>Fonts &gt;&gt;</b></a></td></tr></table></body></html>
